# Railway Configuration for chat-server directory
# Use this config if Railway Root Directory is set to "chat-server"
#
# PREFERRED: Deploy from repo root with Root Directory = empty/blank
# FALLBACK: If Root Directory = "chat-server", this config applies

[build]
builder = "nixpacks"
buildCommand = "rm -rf node_modules && npm install --legacy-peer-deps && echo 'Build v1.0.5 from chat-server'"

[deploy]
startCommand = "node server.js"
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 10
healthcheckPath = "/health"
healthcheckTimeout = 300
