require(\'dotenv\').config();\nconst bcrypt = require(\'bcrypt\');\nconst dbSafe = require(\'./dbSafe\');\nconst authUtils = require(\'./auth/utils\');\nconst userModule = require(\'./auth/user\');\nconst contextModule = require(\'./auth/context\');\nconst tasksModule = require(\'./auth/tasks\');\n\n// Mock neo4jClient since it's not the focus of this task\nconst neo4jClient = {\n  createUserNode: () => new Promise(resolve => resolve()),\n};\n\nasync function createMomTestUser() {\n  const password = \'1234512345\';\n  const email = \'mom@test.com\';\n  const firstName = \'Mom\';\n  const displayName = \'Mom\';\n\n  try {\n    const hashedPassword = await authUtils.hashPassword(password);\n    const username = await userModule.generateUniqueUsername(email);\n\n    if (!username) {\n      console.error(\'Failed to generate unique username.\');\n      return;\n    }\n\n    const userData = {\n      username: username,\n      password_hash: hashedPassword,\n      email: email,\n      first_name: firstName,\n      display_name: displayName,\n    };\n\n    const userId = await dbSafe.safeInsert(\'users\', userData);\n    console.log(\`User ${email} re-created successfully with ID: ${userId}\`);\n\n    // Setup user context and room (essential for a fully functional user)\n    await contextModule.setupUserContextAndRoom(userId, username, {});\n    await tasksModule.createWelcomeAndOnboardingTasks(userId, username);\n\n    // Neo4j client call (mocked for this script)\n    neo4jClient.createUserNode(userId, username, email, displayName);\n\n  } catch (error) {\n    console.error(\'Error re-creating user:\', error);\n  }\n}\n\ncreateMomTestUser();\n
