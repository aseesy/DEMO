# Nixpacks configuration for chat-server deployment
# This file ensures Railway uses npm, not pnpm
# Railway sets root_dir=chat-server, so all paths are relative to chat-server/

[phases.setup]
nixPkgs = ["nodejs_20"]

[phases.install]
cmds = ["npm install --legacy-peer-deps"]

[phases.build]
cmds = ["echo 'Build complete'"]

[start]
cmd = "node server.js"

