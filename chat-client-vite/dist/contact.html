<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Google Tag will be injected here by Vite build process -->
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <meta name="description" content="Contact Us - LiaiZen Co-Parenting Communication Platform">
  <meta name="theme-color" content="#275559">
  <title>Contact Us - LiaiZen</title>

  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    body {
      margin: 0;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
        'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
        sans-serif;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      background-color: #f8f9fa;
    }
    .text-primary { color: #275559; }
    .bg-primary { background-color: #275559; }
    .text-teal { color: #4DA8B0; }
  </style>
</head>
<body class="bg-gray-50 min-h-screen">
  <div class="container mx-auto px-4 py-8 max-w-4xl">
    <!-- Header -->
    <header class="mb-8">
      <div class="flex items-center justify-between mb-6">
        <a href="/" class="text-primary text-2xl font-bold hover:opacity-80 transition-opacity">
          LiaiZen
        </a>
        <a href="/" class="text-gray-600 hover:text-primary transition-colors">
          ← Back to App
        </a>
      </div>
      <h1 class="text-4xl font-bold text-gray-900 mb-2">Contact Us</h1>
      <p class="text-gray-600">We're here to help with any questions or concerns</p>
    </header>

    <!-- Content -->
    <div class="bg-white rounded-lg shadow-lg p-8 md:p-12 mb-8">
      <section class="mb-8">
        <h2 class="text-2xl font-bold text-gray-900 mb-4">Get in Touch</h2>
        <p class="text-gray-700 leading-relaxed mb-6">
          Whether you have a question about features, need technical support, or want to provide feedback about LiaiZen, we'd love to hear from you.
        </p>
      </section>

      <!-- Contact Form -->
      <section class="mb-8">
        <h2 class="text-2xl font-bold text-gray-900 mb-4">Send Us a Message</h2>
        <form id="contactForm" class="space-y-6">
          <!-- Name -->
          <div>
            <label for="name" class="block text-sm font-semibold text-gray-700 mb-2">
              Name <span class="text-red-500">*</span>
            </label>
            <input
              type="text"
              id="name"
              name="name"
              required
              class="w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-teal focus:outline-none transition-colors"
              placeholder="Your full name"
            />
          </div>

          <!-- Email -->
          <div>
            <label for="email" class="block text-sm font-semibold text-gray-700 mb-2">
              Email <span class="text-red-500">*</span>
            </label>
            <input
              type="email"
              id="email"
              name="email"
              required
              class="w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-teal focus:outline-none transition-colors"
              placeholder="your.email@example.com"
            />
          </div>

          <!-- Subject -->
          <div>
            <label for="subject" class="block text-sm font-semibold text-gray-700 mb-2">
              Subject <span class="text-red-500">*</span>
            </label>
            <select
              id="subject"
              name="subject"
              required
              class="w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-teal focus:outline-none transition-colors"
            >
              <option value="">Select a subject...</option>
              <option value="General Inquiry">General Inquiry</option>
              <option value="Technical Support">Technical Support</option>
              <option value="Beta Feedback">Beta Feedback</option>
              <option value="Feature Request">Feature Request</option>
              <option value="Bug Report">Bug Report</option>
              <option value="Privacy Question">Privacy Question</option>
              <option value="Other">Other</option>
            </select>
          </div>

          <!-- Message -->
          <div>
            <label for="message" class="block text-sm font-semibold text-gray-700 mb-2">
              Message <span class="text-red-500">*</span>
            </label>
            <textarea
              id="message"
              name="message"
              required
              rows="6"
              class="w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-teal focus:outline-none transition-colors resize-y"
              placeholder="Tell us how we can help..."
            ></textarea>
          </div>

          <!-- Submit Button -->
          <div>
            <button
              type="submit"
              class="w-full bg-primary text-white px-8 py-4 rounded-lg font-semibold text-lg hover:opacity-90 transition-all shadow-lg hover:shadow-xl"
            >
              Send Message
            </button>
          </div>

          <!-- Success/Error Messages -->
          <div id="formMessage" class="hidden"></div>
        </form>
      </section>

      <!-- Direct Contact -->
      <section class="mb-8 border-t pt-8">
        <h2 class="text-2xl font-bold text-gray-900 mb-4">Direct Contact</h2>
        <div class="bg-gray-50 rounded-lg p-6">
          <p class="text-gray-700 mb-2">
            <strong>Email:</strong>
            <a href="mailto:info@liaizen.com" class="text-teal hover:underline ml-2">
              info@liaizen.com
            </a>
          </p>
          <p class="text-gray-600 text-sm mt-3">
            For all inquiries including general questions, technical support, beta feedback, privacy concerns, and more.
          </p>
        </div>
      </section>

      <section class="mb-8">
        <h2 class="text-2xl font-bold text-gray-900 mb-4">Beta Feedback</h2>
        <p class="text-gray-700 leading-relaxed mb-4">
          We're currently in beta and your feedback is incredibly valuable. If you have suggestions, feature requests, or encounter any issues, please don't hesitate to reach out. We read every message and use your input to improve LiaiZen.
        </p>
        <div class="bg-blue-50 border-l-4 border-blue-500 p-4 rounded">
          <p class="text-blue-700">
            <strong>Pro tip:</strong> When reporting technical issues, please include details about your device, browser, and steps to reproduce the problem. This helps us fix issues faster!
          </p>
        </div>
      </section>

      <section class="mb-8">
        <h2 class="text-2xl font-bold text-gray-900 mb-4">Response Time</h2>
        <p class="text-gray-700 leading-relaxed mb-4">
          We aim to respond to all inquiries within 24-48 hours during business days. For urgent issues, please mention "URGENT" in your message subject and we'll prioritize your request.
        </p>
      </section>

      <section>
        <h2 class="text-2xl font-bold text-gray-900 mb-4">Visit Us Online</h2>
        <p class="text-gray-700 leading-relaxed mb-4">
          <strong>Website:</strong>
          <a href="https://coparentliaizen.com" class="text-teal hover:underline">
            coparentliaizen.com
          </a>
        </p>
      </section>
    </div>

    <script>
      document.getElementById('contactForm').addEventListener('submit', async function(e) {
        e.preventDefault();

        const formMessage = document.getElementById('formMessage');
        const submitButton = e.target.querySelector('button[type="submit"]');
        const originalButtonText = submitButton.textContent;

        // Disable button and show loading state
        submitButton.disabled = true;
        submitButton.textContent = 'Sending...';
        formMessage.className = 'hidden';

        // Get form data
        const formData = {
          name: document.getElementById('name').value,
          email: document.getElementById('email').value,
          subject: document.getElementById('subject').value,
          message: document.getElementById('message').value
        };

        try {
          // Log the data being sent for debugging
          console.log('Sending contact form data:', formData);

          // Send to your backend API
          const response = await fetch('/api/contact', {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json',
            },
            body: JSON.stringify(formData)
          });

          // Parse response
          const data = await response.json();
          console.log('Server response:', data);

          if (response.ok) {
            // Success
            formMessage.className = 'bg-green-50 border-l-4 border-green-500 p-4 rounded';
            formMessage.innerHTML = '<p class="text-green-700"><strong>Success!</strong> Your message has been sent. We\'ll get back to you within 24-48 hours.</p>';
            formMessage.classList.remove('hidden');

            // Reset form
            e.target.reset();
          } else {
            // Show specific error message from server
            throw new Error(data.error || 'Failed to send message');
          }
        } catch (error) {
          // Error - fallback to mailto
          console.error('Contact form error:', error);

          // Create mailto link as fallback
          const mailtoLink = `mailto:info@liaizen.com?subject=${encodeURIComponent(formData.subject)}&body=${encodeURIComponent(
            `Name: ${formData.name}\nEmail: ${formData.email}\n\nMessage:\n${formData.message}`
          )}`;

          formMessage.className = 'bg-yellow-50 border-l-4 border-yellow-500 p-4 rounded';
          formMessage.innerHTML = `
            <p class="text-yellow-700 mb-2">
              <strong>Opening your email client...</strong>
            </p>
            <p class="text-yellow-600 text-sm">
              If your email client doesn't open, please email us directly at
              <a href="mailto:info@liaizen.com" class="text-teal hover:underline">info@liaizen.com</a>
            </p>
          `;
          formMessage.classList.remove('hidden');

          // Open mailto link
          window.location.href = mailtoLink;
        } finally {
          // Re-enable button
          submitButton.disabled = false;
          submitButton.textContent = originalButtonText;
        }
      });
    </script>

    <!-- Footer -->
    <footer class="text-center text-gray-600 text-sm py-6 border-t border-gray-200">
      <div class="flex flex-col md:flex-row justify-center items-center gap-4">
        <a href="/" class="hover:text-primary transition-colors">Home</a>
        <span class="hidden md:inline">|</span>
        <a href="/privacy" class="hover:text-primary transition-colors">Privacy Policy</a>
        <span class="hidden md:inline">|</span>
        <a href="/terms" class="hover:text-primary transition-colors">Terms of Service</a>
        <span class="hidden md:inline">|</span>
        <a href="/contact.html" class="hover:text-primary transition-colors font-semibold">Contact Us</a>
      </div>
      <p class="mt-4">© 2025 LiaiZen. All rights reserved.</p>
    </footer>
  </div>
</body>
</html>
