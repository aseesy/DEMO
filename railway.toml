# Railway Configuration
# Modern Railway config format (replaces nixpacks.toml)

[build]
builder = "nixpacks"
buildCommand = "cp -r chat-client-vite/dist chat-server/dist && cd chat-server && npm install --legacy-peer-deps"

[deploy]
startCommand = "cd chat-server && node server.js"
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 10
healthcheckPath = "/health"
healthcheckTimeout = 100
